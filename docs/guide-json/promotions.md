# Apna Store update promotions.json schema - рдкреНрд░рдореЛрд╢рди рд╕реНрдХреАрдорд╛ рдЧрд╛рдЗрдб

рдпрд╣ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкреНрд░рдореЛрд╢рди рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ (schema) рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред рдпрд╣ рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА, рдбреЗрдЯрд╛-рдЪрд╛рд▓рд┐рдд рдкреНрд░рдгрд╛рд▓реА рд╣реИ рдЬреЛ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рдореЛрд╢рди, рдЬреИрд╕реЗ рдХрд┐ рдмреНрд░рд╛рдВрдбреЗрдб рдЯреЗрдХрдУрд╡рд░, рдХреВрдкрди, рдФрд░ рд╡рд┐рд╢реЗрд╖ рдСрдлрд╝рд░ рдЪрд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред

## рд╕реНрдХреАрдорд╛ рдХрд╛ рдЙрджрд╛рд╣рд░рдг

рдпрд╣рд╛рдБ рдПрдХ `brand_takeover` рдкреНрд░рдореЛрд╢рди рдХрд╛ рдПрдХ рдкреВрд░рд╛ рдЙрджрд╛рд╣рд░рдг рд╣реИ:

```json
{
  "meta": {
    "promoId": "PRM00000001",
    "promoName": "Monsoon Bonanza",
    "promoType": "brand_takeover",
    "version": 1.0,
    "links": {
      "userId": "USR00000001",
      "merchantId": "MRC00000001"
    },
    "status": {
      "isActive": true,
      "priority": 1,
      "visibility": "public"
    },
    "schedule": {
      "start": "2025-07-22T00:00:00Z",
      "end": "2025-07-29T23:59:59Z"
    },
    "createdAt": "2025-07-22T00:00:00Z",
    "updatedAt": "2025-07-22T00:00:00Z"
  },
  "display": {
    "banner": {
      "image": "/promotions/banners/icg-banner.jpg",
      "tagline": "Affordable groceries & fast internet!",
      "description": "Limited time promotion for our best-selling merchant!"
    },
    "notification": {
      "enabled": true,
      "title": "Promotion Time!",
      "message": "ЁЯФе Exclusive offers from Internet Cafe & Grocery!",
      "type": "info",
      "icon": "fas fa-bullhorn"
    }
  },
  "targeting": {
    "locations": ["Mumbai", "Delhi"],
    "userGroups": ["new_users", "loyal_customers"],
    "platforms": ["web", "android", "ios", "desktop"]
  },
  "rules": {
    "minOrderValue": 500,
    "maxUsagePerUser": 1,
    "applicableItems": {
      "type": "include",
      "itemIds": ["ITM000000000001", "ITM000000000006"],
      "categoryIds": []
    }
  },
  "reward": {
    "type": "percentage_discount",
    "value": {
      "percent": 20,
      "maxAmount": 200
    },
    "description": "Get 20% OFF upto Rs200",
    "couponCode": "MONSOON20" 
  },
  "ui_overrides": {
    "header": {
      "backgroundColor": "#FF5733",
      "textColor": "#ffffff"
    },

    "bottomNav": [
      {
        "label": "Home",
        "icon": "fas fa-home"
      }
    ]
  },
  "analytics": {
    "views": 0,
    "clicks": 0,
    "conversions": 0
  }
}
```

---
## рд╕реНрдХреАрдорд╛ рдХрд╛ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╡рд░рдг (Updated)

### 1. `meta` рдСрдмреНрдЬреЗрдХреНрдЯ
рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдкреНрд░рдореЛрд╢рди рдХреА рдореБрдЦреНрдп рдкрд╣рдЪрд╛рди рдФрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред

- `promoId` (string, required): рдкреНрд░рдореЛрд╢рди рдХрд╛ рдпреВрдирд┐рдХ IDред
- `promoName` (string): рдкреНрд░рдореЛрд╢рди рдХрд╛ рдирд╛рдоред
- `promoType` (enum, required): рдкреНрд░рдореЛрд╢рди рдХрд╛ рдкреНрд░рдХрд╛рд░ред
  - `brand_takeover`: рдкреВрд░реЗ рдРрдк рдХрд╛ UI рдФрд░ рдХрдВрдЯреЗрдВрдЯ рдПрдХ рд╡реНрдпрд╛рдкрд╛рд░реА рдХреЗ рд▓рд┐рдП рдмрджрд▓ рджреЗрддрд╛ рд╣реИред
  - `coupon`: рдХрд╛рд░реНрдЯ рдореЗрдВ рдПрдХ рдбрд┐рд╕реНрдХрд╛рдЙрдВрдЯ рдХреЛрдб рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред
  - `bogo`: "Buy One, Get One" рдСрдлрд╝рд░ред
  - `flash_sale`: рд╕реАрдорд┐рдд рд╕рдордп рдХреЗ рд▓рд┐рдП рднрд╛рд░реА рдЫреВрдЯред
- `links` (object): рдкреНрд░рдореЛрд╢рди рдХрд┐рд╕ merchant рдФрд░ рдХрд┐рд╕ user рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реИред
  - `userId` (string): рдкреНрд░рдореЛрд╢рди рдмрдирд╛рдиреЗ рд╡рд╛рд▓рд╛ рдпреВрдЬрд╝рд░ред
  - `merchantId` (string): рд╕рдВрдмрдВрдзрд┐рдд рд╡реНрдпрд╛рдкрд╛рд░реАред
- `status` (object): рдкреНрд░рдореЛрд╢рди рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ред
  - `isActive` (boolean): рдХреНрдпрд╛ рдпрд╣ рдкреНрд░рдореЛрд╢рди рдЕрднреА рд▓рд╛рдЗрд╡ рд╣реИ?
  - `priority` (integer): рдкреНрд░рд╛рдердорд┐рдХрддрд╛ред рдХрдо рдирдВрдмрд░ рдорддрд▓рдм рдЬрд╝реНрдпрд╛рджрд╛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ред
  - `visibility` (string): рдХреМрди рджреЗрдЦ рд╕рдХрддрд╛ рд╣реИ (`public`, `private`, `restricted`)ред
- `schedule` (object): рдкреНрд░рдореЛрд╢рди рдХреА рд╕рдордп-рд╕реАрдорд╛ред
  - `start` (string): рд╢реБрд░реВ рд╣реЛрдиреЗ рдХреА рддрд╛рд░реАрдЦ (ISO 8601 format)ред
  - `end` (string): рдЦрддреНрдо рд╣реЛрдиреЗ рдХреА рддрд╛рд░реАрдЦ (ISO 8601 format)ред
- `createdAt` (string): рдкреНрд░рдореЛрд╢рди рдХрдм рдмрдирд╛рдпрд╛ рдЧрдпрд╛ (ISO 8601 format)ред
- `updatedAt` (string): рдкреНрд░рдореЛрд╢рди рдЖрдЦрд┐рд░реА рдмрд╛рд░ рдХрдм рдЕрдкрдбреЗрдЯ рд╣реБрдЖ (ISO 8601 format)ред
- `version` (string): рд╕реНрдХреАрдорд╛ рдпрд╛ рдбреЗрдЯрд╛ рд╕реНрдЯреНрд░рдХреНрдЪрд░ рдХрд╛ рд╡рд░реНрдЬрд╝рдиред  

---

### 2. `display` рдСрдмреНрдЬреЗрдХреНрдЯ
рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рдореЛрд╢рди рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдХреИрд╕реЗ рджрд┐рдЦреЗрдЧрд╛ред

- `banner` (object): рдкреНрд░рдореЛрд╢рди рдХрд╛ рдмреИрдирд░ред
  - `image` (string): рдмреИрдирд░ рдХреА рдЗрдореЗрдЬ рдХрд╛ рдкрд╛рдеред
  - `tagline` (string): рдЫреЛрдЯреА, рдЖрдХрд░реНрд╖рдХ рд▓рд╛рдЗрдиред
  - `description` (string): рдкреВрд░рд╛ рд╡рд┐рд╡рд░рдгред
- `notification` (object): рдкреБрд╢ рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рд╕реЗрдЯрд┐рдВрдЧреНрд╕ред
  - `enabled` (boolean): рдХреНрдпрд╛ рдЗрд╕ рдкреНрд░рдореЛрд╢рди рдХреЗ рд▓рд┐рдП рдкреБрд╢ рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рднреЗрдЬрдирд╛ рд╣реИ?
  - `title` (string): рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рдХрд╛ рдЯрд╛рдЗрдЯрд▓ред
  - `message` (string): рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рдХрд╛ рдореИрд╕реЗрдЬред
  - `type` (string, optional): рдиреЛрдЯрд┐рдлрд┐рдХреЗрд╢рди рдХрд╛ рдкреНрд░рдХрд╛рд░ (`info`, `success`, `warning`, `error`)ред
  - `icon` (string, optional): Font Awesome рдЖрдЗрдХрди рдХреНрд▓рд╛рд╕ред

---

### 3. `targeting` рдСрдмреНрдЬреЗрдХреНрдЯ
рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдкреНрд░рдореЛрд╢рди рдХрд┐рд╕реЗ рджрд┐рдЦрд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

- `locations` (array of strings): рдХрд┐рди рд╢рд╣рд░реЛрдВ рдпрд╛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдореЗрдВ рдпрд╣ рдкреНрд░рдореЛрд╢рди рд▓рд╛рдЧреВ рд╣реИред
- `userGroups` (array of strings): рдХрд┐рди рдпреВрдЬрд╝рд░ рдЧреНрд░реБрдкреНрд╕ рдХреЗ рд▓рд┐рдП рд╣реИ (рдЬреИрд╕реЗ, `new_users`, `loyal_customers`)ред
- `platforms` (array of strings): рдХрд┐рди рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдореНрд╕ рдкрд░ рджрд┐рдЦрд╛рдирд╛ рд╣реИ (рдЬреИрд╕реЗ, `web`, `android`, `ios`, `desktop`)ред

---

### 4. `rules` рдСрдмреНрдЬреЗрдХреНрдЯ
рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдЙрди рд╢рд░реНрддреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рдЗрдирд╛рдо рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреВрд░рд╛ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

- `minOrderValue` (number): рдЗрдирд╛рдо рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рдСрд░реНрдбрд░ рдореВрд▓реНрдпред
- `maxUsagePerUser` (integer): рдПрдХ рдпреВрдЬрд╝рд░ рдЗрд╕ рдкреНрд░рдореЛрд╢рди рдХрд╛ рдХрд┐рддрдиреА рдмрд╛рд░ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддрд╛ рд╣реИ (`null` рдХрд╛ рдорддрд▓рдм рдЕрд╕реАрдорд┐рдд)ред
- `applicableItems` (object): рдпрд╣ рдкреНрд░рдореЛрд╢рди рдХрд┐рди рдЖрдЗрдЯрдореНрд╕ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрдЧрд╛ред
  - `type` (string): `'include'` (рд╕рд┐рд░реНрдл рдЗрди рдкрд░ рд▓рд╛рдЧреВ) рдпрд╛ `'exclude'` (рдЗрдирдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╕рдм рдкрд░ рд▓рд╛рдЧреВ)ред
  - `itemIds` (array of strings): рдЖрдЗрдЯрдо IDs рдХреА рд╕реВрдЪреА рдЬрд┐рди рдкрд░ рдпрд╣ рдирд┐рдпрдо рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред
  - `categoryIds` (array of strings): рдХреИрдЯреЗрдЧрд░реА IDs рдХреА рд╕реВрдЪреА рдЬрд┐рди рдкрд░ рдпрд╣ рдирд┐рдпрдо рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред

---

### 5. `reward` рдСрдмреНрдЬреЗрдХреНрдЯ
рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрддрд╛рддрд╛ рд╣реИ рдХрд┐ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдЗрдирд╛рдо рдореЗрдВ рдХреНрдпрд╛ рдорд┐рд▓реЗрдЧрд╛ред

- `type` (enum): рдЗрдирд╛рдо рдХрд╛ рдкреНрд░рдХрд╛рд░ред
  - `percentage_discount`: рдкреНрд░рддрд┐рд╢рдд рдЫреВрдЯред
  - `fixed_discount`: рдирд┐рд╢реНрдЪрд┐рдд рд░рд╛рд╢рд┐ рдХреА рдЫреВрдЯред
  - `bogo`: рдПрдХ рдЦрд░реАрджреЗрдВ, рдПрдХ рдореБрдлреНрдд рдкрд╛рдПрдВред
  - `flash_sale`: рд╕реАрдорд┐рдд рд╕рдордп рдХреЗ рд▓рд┐рдП рднрд╛рд░реА рдЫреВрдЯред
  - `free_shipping`: рдореБрдлрд╝реНрдд рд╢рд┐рдкрд┐рдВрдЧред
  - `free_item`: рдПрдХ рдореБрдлрд╝реНрдд рдЖрдЗрдЯрдоред
- `value` (object): рдЗрдирд╛рдо рдХрд╛ рдорд╛рди, рдЬреЛ `type` рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИред
  - **рдЕрдЧрд░ `type` рд╣реИ `percentage_discount`**:
    - `percent` (number): рдЫреВрдЯ рдХрд╛ рдкреНрд░рддрд┐рд╢рддред
    - `maxAmount` (number): рдЕрдзрд┐рдХрддрдо рдЫреВрдЯ рдХреА рд░рд╛рд╢рд┐ред
  - **рдЕрдЧрд░ `type` рд╣реИ `fixed_discount`**:
    - `amount` (number): рдЫреВрдЯ рдХреА рдирд┐рд╢реНрдЪрд┐рдд рд░рд╛рд╢рд┐ред
  - **рдЕрдЧрд░ `type` рд╣реИ `bogo`**:
    - `buyItemId` (string): рдЦрд░реАрджрдиреЗ рд╡рд╛рд▓рд╛ рдЖрдЗрдЯрдоред
    - `getItemId` (string): рдореБрдлрд╝реНрдд рдорд┐рд▓рдиреЗ рд╡рд╛рд▓рд╛ рдЖрдЗрдЯрдоред
  - **рдЕрдЧрд░ `type` рд╣реИ `free_item`**:
    - `itemId` (string): рдореБрдлрд╝реНрдд рдорд┐рд▓рдиреЗ рд╡рд╛рд▓рд╛ рдЖрдЗрдЯрдоред
    - `quantity` (integer): рдХрд┐рддрдиреА рдорд╛рддреНрд░рд╛ рдореЗрдВред
- `couponCode` (string, optional): рдХреВрдкрди рдХреЛрдб, рдпрджрд┐ рдкреНрд░рдореЛрд╢рди рдХреВрдкрди-рдЖрдзрд╛рд░рд┐рдд рд╣реИред
---

### 6. `ui_overrides` рдСрдмреНрдЬреЗрдХреНрдЯ (рд╡реИрдХрд▓реНрдкрд┐рдХ)
рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗрд╡рд▓ `brand_takeover` рдкреНрд░рдХрд╛рд░ рдХреЗ рдкреНрд░рдореЛрд╢рди рдХреЗ рд▓рд┐рдП рд╣реИред  
рдЕрдЧрд░ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рддреЛ рдРрдк рд╡реНрдпрд╛рдкрд╛рд░реА рдХреА рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдмреНрд░рд╛рдВрдбрд┐рдВрдЧ рдХреЛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░реЗрдЧрд╛ред

- `header` (object):
  - `backgroundColor` (string): рд╣реЗрдбрд░ рдХрд╛ рдмреИрдХрдЧреНрд░рд╛рдЙрдВрдб рдХрд▓рд░ред
  - `textColor` (string): рд╣реЗрдбрд░ рдХрд╛ рдЯреЗрдХреНрд╕реНрдЯ рдХрд▓рд░ред
  - `logo` (string, optional): рд▓реЛрдЧреЛ рдХрд╛ рдкрд╛рдеред
  - `title` (string, optional): рд╣реЗрдбрд░ рдЯрд╛рдЗрдЯрд▓ред
- `bottomNav` (array of objects):
  - `label` (string): рдмрдЯрди рдХрд╛ рдЯреЗрдХреНрд╕реНрдЯред
  - `icon` (string): Font Awesome рдЖрдЗрдХрди рдХреНрд▓рд╛рд╕ред
  - `link` (string): рдмрдЯрди рдХрд╛ рд▓рд┐рдВрдХред

---

### 7. `analytics` рдСрдмреНрдЬреЗрдХреНрдЯ
рдкреНрд░рдореЛрд╢рди рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИред

- `views` (integer): рдкреНрд░рдореЛрд╢рди рдХреЛ рдХрд┐рддрдиреА рдмрд╛рд░ рджреЗрдЦрд╛ рдЧрдпрд╛ред
- `clicks` (integer): рдкреНрд░рдореЛрд╢рди рдкрд░ рдХрд┐рддрдиреА рдмрд╛рд░ рдХреНрд▓рд┐рдХ рдХрд┐рдпрд╛ рдЧрдпрд╛ред
- `conversions` (integer): рдкреНрд░рдореЛрд╢рди рд╕реЗ рдХрд┐рддрдиреА рдЦрд░реАрджрд╛рд░реА рд╣реБрдИред