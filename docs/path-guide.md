# Project Path Guide (प्रोजेक्ट पाथ-गाइड)

यह गाइड इस प्रोजेक्ट में सही तरीके से पाथ लिखने के नियम बताता है ताकि कोड हर जगह (लोकल मशीन, GitHub Pages, कस्टम डोमेन) बिना किसी समस्या के काम करे।

**सबसे महत्वपूर्ण सिद्धांत:** पाथ हमेशा इस बात पर निर्भर करता है कि कोड कहाँ से **चल (execute) रहा है**, न कि इस पर कि फ़ाइल कहाँ **रखी हुई है**। हमारे प्रोजेक्ट में, कोड का एक्ज़ीक्यूशन हमेशा `index.html` से शुरू होता है, इसलिए ज़्यादातर पाथ उसी के नज़रिए से लिखे जाते हैं।

---

## सुनहरे नियम (Golden Rules)

1.  **कभी भी `/` से शुरू होने वाला पाथ इस्तेमाल न करें:** प्रोजेक्ट की किसी भी फ़ाइल (जैसे `/source/main.js`) के लिए लीडिंग स्लैश वाले पाथ का उपयोग न करें। यह डोमेन के रूट से एक एब्सोल्यूट पाथ बनाता है और GitHub Pages जैसी जगहों पर काम नहीं करेगा। हमेशा रिलेटिव पाथ (`./` या `../`) का उपयोग करें।

2.  **एक्ज़ीक्यूशन कॉन्टेक्स्ट `index.html` है:** ज़्यादातर पाथ `index.html` के सापेक्ष (relative) होते हैं क्योंकि ब्राउज़र वहीं से सब कुछ चलाना शुरू करता है।

---

## विभिन्न परिस्थितियाँ और उनके नियम

यहाँ 4 मुख्य परिस्थितियाँ हैं जिनका सामना आप इस प्रोजेक्ट में करेंगे:

### परिस्थिति 1: `index.html` के अंदर पाथ

-   **फ़ाइल की लोकेशन:** रूट (`/`)
-   **नियम:** पाथ हमेशा `./` से शुरू होना चाहिए।
-   **उदाहरण:** `index.html` में `main.js` को लोड करना।
    ```html
    <script type="module" src="./source/main.js"></script>
    ```

### परिस्थिति 2: `fetch()` द्वारा लोड की गई फ़ाइल का पाथ

-   **उदाहरण फ़ाइल:** `partial-loader.js` (जो `source/utils/` में है)
-   **नियम:** जब कोई जावास्क्रिप्ट फ़ाइल `index.html` में लोड होती है, तो उसके अंदर `fetch()` कमांड के पाथ `index.html` की लोकेशन से ही देखे जाते हैं। इसलिए, पाथ `./source/...` से शुरू होगा।
-   **उदाहरण:** `partial-loader.js` के अंदर `drawer.html` को लोड करना।
    ```javascript
    fetch('./source/components/drawer.html');
    ```

### परिस्थिति 3: इंजेक्ट किए गए HTML (पार्शियल) के अंदर स्क्रिप्ट का पाथ

-   **उदाहरण फ़ाइल:** `drawer.html` (जो `source/components/` में है)
-   **नियम:** जब `drawer.html` की सामग्री को `index.html` में इंजेक्ट किया जाता है, तो उसके अंदर का `<script>` टैग भी `index.html` का हिस्सा बन जाता है। इसलिए, उस स्क्रिप्ट के अंदर के `import` पाथ भी `index.html` के सापेक्ष होते हैं।
-   **उदाहरण:** `drawer.html` के अंदर `theme-switcher.js` को इम्पोर्ट करना।
    ```javascript
    import { setTheme } from './source/utils/theme-switcher.js';
    ```

### परिस्थिति 4: एक JS मॉड्यूल द्वारा दूसरे JS मॉड्यूल को इम्पोर्ट करना (यह अपवाद है!)

-   **उदाहरण फ़ाइल:** `guest-account.js` (जो `source/common/scripts/` में है)
-   **नियम:** यह एकमात्र मामला है जहाँ पाथ `index.html` से नहीं, बल्कि **इम्पोर्ट करने वाली `.js` फ़ाइल की अपनी लोकेशन से** देखा जाता है। यहाँ हमें फोल्डर से बाहर निकलने के लिए `../` का उपयोग करना पड़ता है।
-   **उदाहरण:** `guest-account.js` के अंदर `toast.js` को इम्पोर्ट करना।
    ```javascript
    // guest-account.js से हमें 2 लेवल ऊपर (scripts -> common -> source) जाना होगा
    // फिर utils फोल्डर के अंदर जाना होगा।
    import { showToast } from '../../utils/toast.js';
    ```

---

## सारांश तालिका (Summary Table)

| परिस्थिति | पाथ किससे शुरू होगा | कारण |
| :--- | :--- | :--- |
| `index.html` में | `./` | फ़ाइल रूट में है। |
| JS फ़ाइल में `fetch()` | `./source/...` | `fetch` का कॉन्टेक्स्ट `index.html` है। |
| HTML पार्शियल के अंदर स्क्रिप्ट | `./source/...` | स्क्रिप्ट को `index.html` में इंजेक्ट किया जाता है। |
| एक JS मॉड्यूल दूसरे को `import` करे | `../` | पाथ इम्पोर्ट करने वाली JS फ़ाइल के सापेक्ष होता है। |

---

## Audit Section (ऑडिट सेक्शन)

इस सेक्शन में दिए गए तरीकों से आप यह जांच सकते हैं कि प्रोजेक्ट में पाथ सही तरीके से लिखे गए हैं या नहीं।

### 1. गलत एब्सोल्यूट पाथ ढूंढें (Find Incorrect Absolute Paths)

**समस्या:** कोड में कहीं पर `src="/..."` या `href="/..."` जैसा पाथ लिखा हो सकता है जो GitHub Pages पर काम नहीं करेगा।

**समाधान:** पूरे प्रोजेक्ट में इस पैटर्न को खोजने के लिए सर्च का उपयोग करें। आप `(src|href)=["']\/` जैसे रेगुलर एक्सप्रेशन का उपयोग कर सकते हैं।

### 2. JS मॉड्यूल इम्पोर्ट की जांच करें (Check JS Module Imports)

**समस्या:** एक `.js` फ़ाइल से दूसरी में `import` करते समय गलत रिलेटिव पाथ (`../`) का उपयोग करना।

**समाधान:** इसका सबसे अच्छा तरीका है कि आप एप्लीकेशन को चलाएं और ब्राउज़र के **Developer Console** (F12 दबाएं) को खोलें। अगर कोई `404 Not Found` एरर किसी `.js` फ़ाइल के लिए आता है, तो इसका मतलब है कि इम्पोर्ट पाथ गलत है।

### 3. `fetch()` और HTML पार्शियल की जांच करें (Check `fetch()` and HTML Partials)

**समस्या:** `fetch()` करते समय या HTML पार्शियल के अंदर पाथ का गलत होना।

**समाधान:** `index.html` और उन सभी जावास्क्रिप्ट फाइलों को जांचें जो `fetch()` का उपयोग करती हैं (जैसे `partial-loader.js`)। सुनिश्चित करें कि प्रोजेक्ट एसेट्स के सभी पाथ `./` से शुरू होते हैं, न कि `../` या `/` से।
